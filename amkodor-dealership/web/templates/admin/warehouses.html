<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∫–ª–∞–¥—ã - –ê–º–∫–æ–¥–æ—Ä</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/admin.css">
    <link rel="stylesheet" href="/static/css/components.css">
    <style>
        /* Admin Layout Styles */
        .admin-layout {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .admin-navbar {
            background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .menu-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .admin-logo {
            color: white;
            text-decoration: none;
        }

        .admin-logo h1 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sidebar {
            background: #1f2937;
            color: white;
            width: 250px;
            min-height: calc(100vh - 80px);
            position: fixed;
            left: -250px;
            top: 80px;
            transition: left 0.3s ease;
            z-index: 1000;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-menu {
            padding: 1rem 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            color: #d1d5db;
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .menu-item:hover {
            background: #374151;
            color: white;
        }

        .menu-item.active {
            background: #1d4ed8;
            color: white;
            border-left-color: #60a5fa;
        }

        .menu-icon {
            font-size: 1.25rem;
        }

        .menu-text {
            font-weight: 500;
        }

        .admin-content {
            flex: 1;
            padding: 2rem;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í—ã–π—Ç–∏" */
        .btn-logout {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(239, 68, 68, 0.2);
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-logout:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(239, 68, 68, 0.3);
        }

        .btn-logout:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(239, 68, 68, 0.2);
        }

        .admin-content.sidebar-open {
            margin-left: 250px;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                left: -100%;
            }
            .admin-content.sidebar-open {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
<div class="admin-layout">
    <!-- Navigation -->
    <nav class="admin-navbar">
        <div class="navbar-left">
            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <a href="/admin/dashboard" class="admin-logo">
                <h1>–ê–ú–ö–û–î–û–†</h1>
            </a>
        </div>

        <div class="navbar-right">
            <div id="userInfo" class="user-menu"></div>
            <button class="btn-logout" id="logoutBtn">–í—ã–π—Ç–∏</button>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
        <nav class="sidebar-menu">
            <a href="/admin/dashboard" class="menu-item">
                <span class="menu-icon">üìä</span>
                <span class="menu-text">–ì–ª–∞–≤–Ω–∞—è</span>
            </a>
            <a href="/admin/vehicles" class="menu-item">
                <span class="menu-icon">üöú</span>
                <span class="menu-text">–¢–µ—Ö–Ω–∏–∫–∞</span>
            </a>
            <a href="/admin/sales" class="menu-item">
                <span class="menu-icon">üí∞</span>
                <span class="menu-text">–ü—Ä–æ–¥–∞–∂–∏</span>
            </a>
            <a href="/admin/customers" class="menu-item">
                <span class="menu-icon">üë•</span>
                <span class="menu-text">–ö–ª–∏–µ–Ω—Ç—ã</span>
            </a>
            <a href="/admin/employees" class="menu-item">
                <span class="menu-icon">üëî</span>
                <span class="menu-text">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
            </a>
            <a href="/admin/warehouses" class="menu-item active">
                <span class="menu-icon">üè¢</span>
                <span class="menu-text">–°–∫–ª–∞–¥—ã</span>
            </a>
            <a href="/admin/service" class="menu-item">
                <span class="menu-icon">üîß</span>
                <span class="menu-text">–°–µ—Ä–≤–∏—Å</span>
            </a>
            <a href="/admin/reports" class="menu-item">
                <span class="menu-icon">üìà</span>
                <span class="menu-text">–û—Ç—á—ë—Ç—ã</span>
            </a>
            <a href="/admin/settings" class="menu-item">
                <span class="menu-icon">‚öôÔ∏è</span>
                <span class="menu-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="admin-content">
        <div class="page-header">
            <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏</h1>
            <button class="btn btn-primary" id="addWarehouseBtn">
                <span>+</span> –î–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–∞–¥
            </button>
        </div>

        <div class="content-section">
            <div class="card">
                <div class="card-body">
                    <div id="warehousesContainer">
                        <!-- –°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Modal –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫–ª–∞–¥–∞ -->
<div class="modal" id="warehouseModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–∞–¥</h2>
            <button class="modal-close">&times;</button>
        </div>
        <form id="warehouseForm">
            <div class="form-group">
                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞*</label>
                <input type="text" name="name" class="form-control" required>
            </div>

            <div class="form-group">
                <label class="form-label">–ê–¥—Ä–µ—Å*</label>
                <input type="text" name="address" class="form-control" required>
            </div>

            <div class="form-group">
                <label class="form-label">–ì–æ—Ä–æ–¥*</label>
                <input type="text" name="city" class="form-control" required>
            </div>

            <div class="form-group">
                <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" name="phone" class="form-control">
            </div>

            <div class="form-group">
                <label class="form-label">–ü–ª–æ—â–∞–¥—å (–∫–≤.–º)</label>
                <input type="number" name="area" class="form-control">
            </div>

            <div class="form-group">
                <label class="form-label">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–µ–¥–∏–Ω–∏—Ü)</label>
                <input type="number" name="capacity" class="form-control">
            </div>

            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" class="btn btn-secondary" onclick="app.closeModal('warehouseModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </form>
    </div>
</div>

<script src="/static/js/app.js"></script>
<script src="/static/js/api.js"></script>
<script src="/static/js/auth.js"></script>
<script src="/static/js/admin.js"></script>
<script>
    // Mobile menu functionality
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.querySelector('.sidebar');
        const adminContent = document.querySelector('.admin-content');

        if (menuToggle) {
            menuToggle.addEventListener('click', function() {
                sidebar.classList.toggle('open');
                adminContent.classList.toggle('sidebar-open');
            });
        }

        // Close sidebar when clicking outside
        document.addEventListener('click', function(event) {
            if (!sidebar.contains(event.target) && !menuToggle.contains(event.target)) {
                sidebar.classList.remove('open');
                adminContent.classList.remove('sidebar-open');
            }
        });
    });
</script>
</body>
</html>